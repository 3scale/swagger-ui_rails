<div class="swagger-section">

  <div id='header'>
    <div class="swagger-ui-wrap">
      <a id="logo" href="/">hello.</a>
    </div>
  </div>

  <div id="message-bar" class="swagger-ui-wrap">&nbsp;</div>
  <div id="swagger-ui-container" class="swagger-ui-wrap"></div>
</div>

<script type="text/javascript">
  $(function () {
    var url = window.location.search.match(/url=([^&]+)/);
    if (url && url.length > 1) {
      url = decodeURIComponent(url[1]);
    } else {
      url = "/swagger/petstore.json"
    }
    window.swaggerUi = new SwaggerUi({
      url: url,
      dom_id: "swagger-ui-container",
      supportedSubmitMethods: ['get', 'post', 'put', 'delete', 'patch'],
      onComplete: function(swaggerApi, swaggerUi){
        $('pre code').each(function(i, e) {
          hljs.highlightBlock(e)
        });
      },
      onFailure: function(data) {
        console.log("[swagger-ui]>>> unable to load.");
      },
      docExpansion: "list",
      sorter : "alpha",
      transport: function(httpClient, obj) {
        console.log("[swagger-ui]>>> executing custom transport function");
        var result = httpClient.execute(obj);

        return result;
      }
    });

    window.swaggerUi.load();
  });

</script>
